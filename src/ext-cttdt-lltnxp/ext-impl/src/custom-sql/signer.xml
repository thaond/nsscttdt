<?xml version="1.0"?>

<custom-sql>
	<sql id="com.sgs.portlet.signer.service.persistence.SignerFinder.findBy_H_TEN">
		<![CDATA[
			SELECT
				user_.*
			FROM
				user_ , contact_
			WHERE 
				(contact_.contactid = user_.contactid) 
				AND
				((lower(contact_.lastname) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
				(lower(contact_.firstname) LIKE ? [$AND_OR_NULL_CHECK$]))
				AND (User_.defaultUser = false) 
				AND (User_.active_ = true) 
		]]>
	</sql>
	<sql id="com.sgs.portlet.signer.service.persistence.SignerFinder.findBy_H_TEN_AFTER_CHECKED">
		<![CDATA[
			SELECT
				user_.*
			FROM
				user_ , contact_ , pml_signer
			WHERE 
				(pml_signer.userid = user_.userid) AND
				(contact_.contactid = user_.contactid) AND
				((lower(contact_.lastname) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
				(lower(contact_.firstname) LIKE ? [$AND_OR_NULL_CHECK$]))
				
		]]>
	</sql>
	<sql id="com.sgs.portlet.signer.service.persistence.SignerFinder.countBy_H_TEN">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				user_ , contact_ 
			WHERE 
				(contact_.contactid = user_.contactid) 
				AND
				((lower(contact_.lastname) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
				(lower(contact_.firstname) LIKE ? [$AND_OR_NULL_CHECK$]))
				AND (User_.defaultUser = false)
				AND (User_.active_ = true) 
		]]>
	</sql>
	<sql id="com.sgs.portlet.signer.service.persistence.SignerFinder.countBy_H_TEN_AFTER_CHECKED">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				user_ , contact_ , pml_signer
			WHERE 
				(pml_signer.userid = user_.userid) AND
				(contact_.contactid = user_.contactid) AND
				((lower(contact_.lastname) LIKE ? [$AND_OR_NULL_CHECK$]) [$AND_OR_CONNECTOR$]
				(lower(contact_.firstname) LIKE ? [$AND_OR_NULL_CHECK$])) 
		]]>
	</sql>
	
	<sql id="com.sgs.portlet.signer.service.persistence.SignerFinder.checkContainSigner">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				pml_signer
			WHERE pml_signer.userid = ?
		]]>
	</sql>
	
</custom-sql>